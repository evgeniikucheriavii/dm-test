<div class="resources-sections">
	<section class="main-section main-section_left">
		<div class="container container__left">
			<section class="left-section left-section__header">

				<section class="header__top header__top_left">
					<section class="header-section header-section__left">
						Список ресурсов
					</section>
				</section>
			
				<section class="header__bottom header__bottom_left">
					<form>
						<label class="search-label">
							<input type="search" class="search-input" placeholder="Поиск" name="search" id="search_input">
							<button type="submit" class="search-button" id="search_submit"><img class="button__image" src="assets/images/Search.svg"></button>
						</label>
					</form>
					<label for="select_01" class="select">
						<input type="radio" name="list" value="not_changed" id="bg_01" class="select-bg select-radio select-list" checked />
						<input type="radio" name="list" value="not_changed" class="select-select select-radio select-list" id="select_01">
						<label class="bg" for="bg_01"></label>
						<div class="items">
							<input type="radio" name="list" value="first_value" id="list[0]" class="select-radio select-list">
							<label for="list[0]">Трудовой</label>
							<input type="radio" name="list" value="second_value" id="list[1]" class="select-radio select-list">
							<label for="list[1]">Не трудовой</label>
							<span id="text" class="select-text">Фильтр</span>
						</div>
					</label>
				</section>
			</section>

			<section class="left-section left-section__list">
				<div class="list-row list-row_head">
					<div class="list__num">#</div>
					<div class="list__name">Ресурс</div>
					<div class="list__type"><img src="assets/images/Sort_inactive.png" class="sort-image"> Тип</div>
					<div class="list__util"><img src="assets/images/Sort_inactive.png" class="sort-image"> Утилизация</div>
				</div>
				<div class="list__body" style="height: 600px;">
					<div class="list-row" *ngFor="let r of resources; let i = index">
						<div class="list__num">{{i + 1}}</div>
						<div class="list__name">{{r.name}}</div>
						<div class="list__type">{{r.type}}</div>
						<div class="list__util _{{r.color}}">{{r.util}}%</div>
					</div>
				</div>
			</section>

			<section class="left-section__pages">
				<button class="button"><img src="assets/images/Plus.svg" class="button__image"> Добавить</button>
				<button class="button"><img src="assets/images/Import.svg" class="button__image"> Импортировать</button>
			</section>

		</div>
	</section>
	<section class="main-section main-section_right">
		<div class="container">
			<section class="right-section right-section__header">
				<section class="header__top header__top_right">
					<div class="header-name">{{currentResource.name}}</div>
					<div class="tabs">
						<button *ngFor="let t of tabs; let i = index" class="{{t.classes}}" id="tab_{{t.id}}" (click)="SwitchTab(i)">{{t.name}}</button>
					</div>
				</section>

                <!--Profile-->
				<section class="header__bottom header__bottom_right" *ngIf="tabs[currentTab].id == 'profile'">
					<label class="header-search-label">
						<span class="header-search-label__title">Тип  </span>
                        
                        <label for="select_02" class="select select-label_graph">
                            <input type="radio" name="list_2" value="not_changed" id="bg_02" class="select-bg select-radio select-list" checked />
                            <input type="radio" name="list_2" value="not_changed" class="select-select select-radio select-list" id="select_02">
                            <label class="bg" for="bg_02"></label>
                            <div class="items">
                                <input type="radio" name="list_2" value="first_value" id="list_2[0]" class="select-radio select-list">
                                <label for="list_2[0]">Трудовой</label>
                                <input type="radio" name="list_2" value="second_value" id="list_2[1]" class="select-radio select-list">
                                <label for="list_2[1]">Не трудовой</label>
                                <span id="text" class="select-text">Тип</span>
                            </div>
                        </label>

                    </label>
                    
                    <label class="header-search-label">
						<span class="header-search-label__title">Признак  </span>
                        
                        <label for="select_03" class="select select-label_graph">
                            <input type="radio" name="list_3" value="not_changed" id="bg_03" class="select-bg select-radio select-list" checked />
                            <input type="radio" name="list_3" value="not_changed" class="select-select select-radio select-list" id="select_03">
                            <label class="bg" for="bg_03"></label>
                            <div class="items">
                                <input type="radio" name="list_3" value="first_value" id="list_3[0]" class="select-radio select-list">
                                <label for="list_3[0]">Родительский</label>
                                <input type="radio" name="list_3" value="second_value" id="list_3[1]" class="select-radio select-list">
                                <label for="list_3[1]">Дочерний</label>
                                <span id="text" class="select-text">Признак</span>
                            </div>
                        </label>

                    </label>
                    
                    <label class="header-search-label">
						<span class="header-search-label__title">Офис  </span>
                        
                        <label for="select_04" class="select select-label_graph">
                            <input type="radio" name="list_4" value="not_changed" id="bg_04" class="select-bg select-radio select-list" checked />
                            <input type="radio" name="list_4" value="not_changed" class="select-select select-radio select-list" id="select_04">
                            <label class="bg" for="bg_04"></label>
                            <div class="items">
                                <input type="radio" name="list_4" value="first_value" id="list_4[0]" class="select-radio select-list">
                                <label for="list_4[0]">Офис 1</label>
                                <input type="radio" name="list_4" value="second_value" id="list_4[1]" class="select-radio select-list">
                                <label for="list_4[1]">Офис 2</label>
                                <span id="text" class="select-text">Офис</span>
                            </div>
                        </label>

                    </label>
                    
                    <label class="header-search-label">
						<span class="header-search-label__title">Статус  </span>
                        
                        <label for="select_05" class="select select-label_graph">
                            <input type="radio" name="list_5" value="not_changed" id="bg_05" class="select-bg select-radio select-list" checked />
                            <input type="radio" name="list_5" value="not_changed" class="select-select select-radio select-list" id="select_05">
                            <label class="bg" for="bg_05"></label>
                            <div class="items">
                                <input type="radio" name="list_5" value="first_value" id="list_5[0]" class="select-radio select-list">
                                <label for="list_5[0]">Активен</label>
                                <input type="radio" name="list_2" value="second_value" id="list_5[1]" class="select-radio select-list">
                                <label for="list_5[1]">Не активен</label>
                                <span id="text" class="select-text">Статус</span>
                            </div>
                        </label>

					</label>

				</section>

                <!--Service-->
				<section class="header__bottom header__bottom_right" *ngIf="tabs[currentTab].id == 'service'">
					<label class="header-search-label">
						<span class="header-search-label__title">Поиск  </span>
						<label class="header-search-label__element search-label">
							<input type="search" class="search-input" name="search" id="search_input">
							<button type="submit" class="search-button" id="search_submit"><img class="button__image" src="assets/images/Search.svg"></button>
						</label>
					</label>
				</section>
                
				<!--Sales-->
				<section class="header__bottom header__bottom_right" *ngIf="tabs[currentTab].id == 'sales'">
					<label class="header-search-label">
						<span class="header-search-label__title">Поиск  </span>
						<label class="header-search-label__element search-label">
							<input type="search" class="search-input" name="search" id="search_input">
							<button type="submit" class="search-button" id="search_submit"><img class="button__image" src="assets/images/Search.svg"></button>
						</label>
					</label>
				</section>

				<!--Log-->
				<section class="header__bottom header__bottom_right" *ngIf="tabs[currentTab].id == 'log'">
					
				</section>
			</section>

            <!--profile-->
			<section class="right-section right-section__profile" *ngIf="tabs[currentTab].id == 'profile'">
				<div class="banner">					
					<div class="banner-item">
						<div class="banner-item__header">Доступность ресурса в текущем месяце </div>
						<div class="banner-item__body">{{currentResource.available}} часов</div>
					</div>
					<div class="banner-item">
						<div class="banner-item__header">Потрачено времени на оказание услуг в прошлом месяце </div>
						<div class="banner-item__body">{{currentResource.spent}} часов</div>
					</div>
					<div class="banner-item">
						<div class="banner-item__header">Средневзвешенная стоимость Человекочаса </div>
						<div class="banner-item__body">
							{{currentResource.avg}} ₽
						</div>
					</div>
				</div>

				<section class="left-section left-section__list transactions-list">
					<div class="list__title">Особенности</div>
					<div class="list-row list-row_head transactions-list__head">
						<div class="list__num">#</div>
						<div class="list__name">Особенность</div>
						<div class="list__name"><img src="assets/images/Sort_inactive.png" class="sort-image"> Добавлено</div>
					</div>
					<div class="transactions-list__body">
						<div class="list-row" *ngFor="let s of currentResource.specials; let i = index">
							<div class="list__num">{{i + 1}}</div>
							<div class="list__name">{{s.name}}</div>
							<div class="list__name">{{s.date}}</div>
						</div>
					</div>
				</section>

				<section class="left-section left-section__pages">
					<button class="button"><img src="assets/images/Plus.svg" class="button__image"> Добавить</button>
				</section>

				<section class="left-section left-section__list contacts-list">
					<div class="list__title">Контакты</div>
					<div class="list-row list-row_head contacts-list__head">
						<div class="list__num">#</div>
						<div class="list__name">Канал</div>
						<div class="list__type"><img src="assets/images/Sort_inactive.png" class="sort-image"> Номер \ Ник</div>
						<div class="list__name"><img src="assets/images/Sort_inactive.png" class="sort-image"> Последняя коммуникация</div>
						<div class="list__util"><img src="assets/images/Sort_inactive.png" class="sort-image"> Действие</div>
					</div>
					<div class="list-row" *ngFor="let c of currentResource.contacts; let i = index">
						<div class="list__num">{{i + 1}}</div>
						<div class="list__name">{{c.name}}</div>
						<div class="list__type">{{c.value}}</div>
						<div class="list__name">{{c.lastdate}}</div>
						<div class="list__util">
							<div *ngIf="c.type == 0; then callBlock else mailBlock"></div>
							<ng-template #callBlock>
								<button class="button contact-button"><img src="assets/images/Call.svg" class="button__image"> Позвонить</button>
								<img src="assets/images/Dots.svg" class="status-column__dots">
							</ng-template>
							<ng-template #mailBlock>
								<button class="button contact-button"><img src="assets/images/Write.svg" class="button__image"> Написать</button>
								<img src="assets/images/Dots.svg" class="status-column__dots">
							</ng-template> 
						</div>
					</div>
				</section>

				<section class="left-section left-section__pages">
					<button class="button"><img src="assets/images/Plus.svg" class="button__image"> Добавить</button>
				</section>
				
			</section>

			<!--Load-->
			<section class="right-section right-section__schedule" *ngIf="tabs[currentTab].id == 'load'">
				<div class="time-table">
					<div class="table-row {{GetRowClass(t.hour)}}" *ngFor="let t of time; let i = index;">
						<div class="table-col table-col_time">
							<div class="time-content">
								<div>{{t.hour}}:00</div>
								<div *ngIf="IsCurrentHour(t.hour)">сейчас</div>
							</div>
						</div>
					</div>
				</div>
				<div class="schedule-table" id="schedule-table" (scroll)="CheckScroll();">
					<button class="arrow-button arrow-button_left" id="left-scroll" (click)="ScrollTable(-1);" disabled></button>
					<button class="arrow-button arrow-button_right" id="right-scroll" (click)="ScrollTable(1);"></button>

					<div class="table-row table-row_head">
						
						<div class="table-col" *ngFor="let s of schedule; let i = index;" >
							<span class="head-name">{{s.name}}</span>
							<span class="head-percent _brown">12%</span>
						</div>
					</div>
		
					<div class="table-row {{GetRowClass(t.hour)}}" *ngFor="let t of time; let i = index;">
						<div class="table-col" *ngFor="let s of schedule; let i = index;">
							<div *ngIf="s.HasTasks(t.hour)" class="table-col__container">
								<div class="table-task {{j.Classes()}}"
									*ngFor="let j of s.GetTasks(t.hour).tasks; let i = index;">
									<div class="task-name">{{j.name}}</div>
									<div class="task-time">
										{{t.hour}}:<span *ngIf="j.start < 10">0</span>{{j.start}} -
										<span *ngIf="j.start + j.duration == 60">{{t.hour + 1}}:00</span>
										<span *ngIf="j.start + j.duration < 60">{{t.hour}}:{{j.start + j.duration}}</span>
									</div>
								</div>
								<div class="table-task" *ngIf="!s.GetTasks(t.hour).Check()">
									<span *ngIf="currentHour <= t.hour" class="task-add">+</span>
									<span *ngIf="currentHour > t.hour">-</span>
								</div>
							</div>
							<div *ngIf="!s.HasTasks(t.hour)" class="table-col__container">
								<div class="table-task">
									<span *ngIf="currentHour <= t.hour" class="task-add">+</span>
									<span *ngIf="currentHour > t.hour">-</span>
								</div>
							</div>
							
						</div>
		
					</div>
				</div>
			</section>

            <!--Sales-->
			<section class="right-section right-section__graph" *ngIf="tabs[currentTab].id == 'sales'">
				<section class="left-section left-section__list resources-list">
					<div class="list-row list-row_head resources-row resources-list__head">
						<div class="list__num">#</div>
						<div class="list__name">Услуга</div>
						<div class="list__name"><img src="assets/images/Sort_inactive.png" class="sort-image"> Клиент</div>
						<div class="list__name"><img src="assets/images/Sort_inactive.png" class="sort-image"> Стоимость</div>
                        <div class="list__name"><img src="assets/images/Sort_inactive.png" class="sort-image"> Дата</div>
                        <div class="list__util"></div>
					</div>
					<div class="resources-list__body">
						<div class="list-row resources-row" *ngFor="let s of currentResource.services; let i = index">
							<div class="list__num">{{i + 1}}</div>
							<div class="list__name">{{s.service}}</div>
							<div class="list__name">Колесов В. В.</div>
							<div class="list__name">1500</div>
                            <div class="list__name">20.03.2020</div>
                            <div class="list__util">
                                <img src="assets/images/Dots.svg" class="status-column__dots list__dots">
                            </div>
						</div>
					</div>
				</section>
				<section style="margin-bottom: 20px;">
					<button class="button"><img src="assets/images/Plus.svg" class="button__image"> Добавить</button>
				</section>
			</section>

			<!--Services-->
			<section class="right-section right-section__graph" *ngIf="tabs[currentTab].id == 'service'">
				<section class="left-section left-section__list resources-list">
					<div class="list-row list-row_head resources-row resources-list__head">
						<div class="list__num">#</div>
						<div class="list__name">Услуга</div>
						<div class="list__type"><img src="assets/images/Sort_inactive.png" class="sort-image"> Частота</div>
						<div class="list__type"><img src="assets/images/Sort_inactive.png" class="sort-image"> Длительность</div>
						<div class="list__type"><img src="assets/images/Sort_inactive.png" class="sort-image"> Востребованность</div>
						<div class="list__util"><img src="assets/images/Sort_inactive.png" class="sort-image"> Стоимость (руб)</div>
					</div>
					<div class="resources-list__body">
						<div class="list-row resources-row" *ngFor="let s of currentResource.services; let i = index">
							<div class="list__num">{{i + 1}}</div>
							<div class="list__name">{{s.service}}</div>
							<div class="list__type">Раз в неделю</div>
							<div class="list__type">{{s.duration}}</div>
							<div class="list__type">15</div>
							<div class="list__util">{{s.sumFormat}}</div>
						</div>
					</div>
				</section>
				<section style="margin-bottom: 20px;">
					<button class="button"><img src="assets/images/Plus.svg" class="button__image"> Добавить</button>
				</section>
			</section>

			<!--Log-->
			<section class="right-section right-section__graph" *ngIf="tabs[currentTab].id == 'log'">
				Log
			</section>
		</div>
	</section>
</div>